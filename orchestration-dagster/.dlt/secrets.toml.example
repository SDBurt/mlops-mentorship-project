# dlt secrets configuration template
# Copy this file to secrets.toml and fill in your credentials
# IMPORTANT: secrets.toml is gitignored - never commit actual credentials!

# Configuration Path Structure:
# dlt uses the path: sources.source.{source_name}
# - "sources" is the top-level section for all dlt sources
# - "source" comes from the function naming pattern (reddit_source function)
# - "reddit" is the name specified in @dlt.source(name="reddit")
# Therefore, use [sources.source.reddit] section below

# Reddit API Configuration
# To obtain credentials:
# 1. Visit https://www.reddit.com/prefs/apps
# 2. Click "create app" or "create another app"
# 3. Choose "script" as the app type
# 4. Fill in:
#    - name: Your app name (e.g., "lakehouse-reddit-ingestion")
#    - description: Brief description of your app
#    - redirect uri: http://localhost:8080 (required but not used for script apps)
# 5. After creating the app:
#    - client_id: Found directly under the app name (looks like: XxXxXxXxXxXxXx)
#    - client_secret: Found in the "secret" field in the app info
#
# User-Agent Format:
# - Must follow: <platform>:<app_id>:<version> (by /u/<reddit_username>)
# - Example: python:lakehouse-dlt:v1.0.0 (by /u/myusername)
# - Reddit requires unique and descriptive user agents
# - Default/generic user agents (like "Python/urllib") are rate-limited

[sources.source.reddit]
# Reddit API credentials (required)
client_id = "YOUR_CLIENT_ID_HERE"
client_secret = "YOUR_CLIENT_SECRET_HERE"
user_agent = "python:lakehouse-dlt:v1.0.0 (by /u/YOUR_REDDIT_USERNAME)"

# Configuration (optional - can be overridden when calling the source)
subreddit = "worldnews"        # Default subreddit to extract data from
time_filter = "day"            # Time filter for top posts: all, year, month, week, day, hour
limit = 10                     # Max posts/comments per request (Reddit API limit)

# Destination configuration (filesystem for Garage S3)
[destination.filesystem]
bucket_url = "s3://lakehouse/dlt"  # Will be configured to point to Garage S3
