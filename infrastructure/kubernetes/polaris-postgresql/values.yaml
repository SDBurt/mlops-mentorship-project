# PostgreSQL Configuration for Polaris Catalog
# Dedicated database instance for Polaris metadata storage
# Deployed using Bitnami PostgreSQL Helm chart

# Global settings
global:
  postgresql:
    auth:
      username: polaris
      password: "CHANGEME_POLARIS_PASSWORD"
      database: polaris
      # Root password for PostgreSQL superuser
      postgresPassword: "CHANGEME_POSTGRES_PASSWORD"

# Primary configuration
primary:
  # Resource requests/limits for development
  resources:
    requests:
      memory: 256Mi
      cpu: 250m
    limits:
      memory: 512Mi
      cpu: 500m

  # Persistence configuration
  persistence:
    enabled: true
    size: 2Gi
    storageClass: ""  # Use default storage class

  # PostgreSQL configuration
  extendedConfiguration: |
    max_connections = 100
    shared_buffers = 128MB
    effective_cache_size = 256MB
    maintenance_work_mem = 64MB
    checkpoint_completion_target = 0.9
    wal_buffers = 4MB
    default_statistics_target = 100
    random_page_cost = 1.1
    work_mem = 2621kB
    min_wal_size = 1GB
    max_wal_size = 4GB

# Service configuration
service:
  type: ClusterIP
  ports:
    postgresql: 5432

# Metrics (optional - can enable for monitoring)
metrics:
  enabled: false

# Architecture - standalone for development
architecture: standalone
